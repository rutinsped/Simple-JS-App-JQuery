!function(){var t=function(){var t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(e){t.push(e)}return{add:n,getAll:function(){return t},loadList:function(){return $.ajax(e,{dataType:"json"}).then(function(t){$.each(t.results,function(t,e){n({name:e.name,detailsUrl:e.url})})}).catch(function(t){console.error(t)})},loadDetails:function(t){var e=t.detailsUrl;return $.ajax(e).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types.map(function(t){return t.type.name})}).catch(function(t){console.error(t)})}}}(),e=$(".pokemon-list");function n(n){var o=$('<button type="button" class="pokemon-list_item list-group-item list-group-item-action" data-toggle="modal" data-target="#pokemon-modal"></button>');o.text(n.name),e.append(o),o.click(function(){!function(e){t.loadDetails(e).then(function(){var t=$(".modal-body"),n=($(".modal-title").text(e.name),$('<p class="pokemon-height"></p>').text("Height: "+e.height)),o=$('<p class="pokemon-type"></p>').text("Type: "+e.types),a=$('<img class="pokemon-picture">');a.attr("src",e.imageUrl),t.children().length&&t.children().remove(),t.append(a).append(n).append(o)})}(n)})}$(document).ready(function(){$("#pokemon-search").on("keyup",function(){var t=$(this).val().toLowerCase();$(".pokemon-list_item").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})}),t.loadList().then(function(){var e=t.getAll();$.each(e,function(t,e){n(e)})})}();